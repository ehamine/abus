<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>A-Bus Library: A-Bus API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">A-Bus Library&#160;<span id="projectnumber">0.2~svn</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__abus.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>A-Bus API</h1>  </div>
</div>
<div class="contents">

<p>Define groups for Doxygen.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0e909793fb799cfe2c6312aca5df7c68"></a><!-- doxytag: member="abus::abus_get_version" ref="ga0e909793fb799cfe2c6312aca5df7c68" args="()" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga0e909793fb799cfe2c6312aca5df7c68">abus_get_version</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get version of A-Bus library. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4932871788e82b5a2e56a8d4e51490e9"></a><!-- doxytag: member="abus::abus_get_copyright" ref="ga4932871788e82b5a2e56a8d4e51490e9" args="()" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga4932871788e82b5a2e56a8d4e51490e9">abus_get_copyright</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get copyright information of A-Bus library. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gae6978d51da337838da12bca1c2c27659">abus_init</a> (abus_t *abus)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize for A-Bus operation.  <a href="#gae6978d51da337838da12bca1c2c27659"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gad9eb8098a84e184ee6942d48c222b4cd">abus_cleanup</a> (abus_t *abus)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup of A-Bus operation, releases any allocated memory.  <a href="#gad9eb8098a84e184ee6942d48c222b4cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga4e70d862fb8670bfe5397869d3d41b71">abus_decl_method</a> (abus_t *abus, const char *service_name, const char *method_name, abus_callback_t method_callback, int flags, void *arg, const char *fmt, const char *result_fmt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decalare an A-Bus method.  <a href="#ga4e70d862fb8670bfe5397869d3d41b71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga1d2c5a2ca5147f5991d1a78f801f5fdf">abus_undecl_method</a> (abus_t *abus, const char *service_name, const char *method_name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Undeclare an A-Bus method.  <a href="#ga1d2c5a2ca5147f5991d1a78f801f5fdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gacd0f9150830116ff3525cf6c7e05478f">abus_request_method_init</a> (abus_t *abus, const char *service_name, const char *method_name, json_rpc_t *json_rpc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize for request method, client side.  <a href="#gacd0f9150830116ff3525cf6c7e05478f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gaefbdffce700658ec7b8ec72ed6911cae">abus_request_method_wait_async</a> (abus_t *abus, json_rpc_t *json_rpc, int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for an asynchronous method request.  <a href="#gaefbdffce700658ec7b8ec72ed6911cae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gacb221ecd41f014b38bb3a4055111e39d">abus_request_method_invoke_async</a> (abus_t *abus, json_rpc_t *json_rpc, int timeout, abus_callback_t callback, int flags, void *arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous invocation of a RPC.  <a href="#gacb221ecd41f014b38bb3a4055111e39d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gae11f19e9033b6537259a125f4b8c9b21">abus_request_method_invoke</a> (abus_t *abus, json_rpc_t *json_rpc, int flags, int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">synchronous invocation  <a href="#gae11f19e9033b6537259a125f4b8c9b21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae015568322fca8202167c54d29f1603c"></a><!-- doxytag: member="abus::abus_request_method_cleanup" ref="gae015568322fca8202167c54d29f1603c" args="(abus_t *abus, json_rpc_t *json_rpc)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gae015568322fca8202167c54d29f1603c">abus_request_method_cleanup</a> (abus_t *abus, json_rpc_t *json_rpc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release ressources associated with a RPC. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gae73d8dacd0226263499ce1bee9b3c005">abus_forward_rpc</a> (abus_t *abus, char *buffer, int *buflen, int flags, int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward a JSON-RPC request in the A-Bus, and get the response.  <a href="#gae73d8dacd0226263499ce1bee9b3c005"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga5fe9afa6fca86ff07ca63498800be99c">abus_decl_event</a> (abus_t *abus, const char *service_name, const char *event_name, const char *fmt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decalare an A-Bus event.  <a href="#ga5fe9afa6fca86ff07ca63498800be99c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gaf752f471ab94e0c086f0c931c521f95f">abus_request_event_init</a> (abus_t *abus, const char *service_name, const char *event_name, json_rpc_t *json_rpc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a new RPC to be published by a service.  <a href="#gaf752f471ab94e0c086f0c931c521f95f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga460695254c43fd31a2c0ad17abeb213c">abus_request_event_publish</a> (abus_t *abus, json_rpc_t *json_rpc, int flags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish (i.e.  <a href="#ga460695254c43fd31a2c0ad17abeb213c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gab4fa1a2fcf76113395ee4f2d2b701f1a">abus_request_event_cleanup</a> (abus_t *abus, json_rpc_t *json_rpc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release ressources associated with a past event RPC.  <a href="#gab4fa1a2fcf76113395ee4f2d2b701f1a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga04ae18204c46552f427908813091c726"></a><!-- doxytag: member="abus::abus_event_subscribe" ref="ga04ae18204c46552f427908813091c726" args="(abus_t *abus, const char *service_name, const char *event_name, abus_callback_t callback, int flags, void *arg, int timeout)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga04ae18204c46552f427908813091c726">abus_event_subscribe</a> (abus_t *abus, const char *service_name, const char *event_name, abus_callback_t callback, int flags, void *arg, int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Register callback for event notification and send subscription to service. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa04d46deeba36cd917dfaf8531ca2dde"></a><!-- doxytag: member="abus::abus_event_unsubscribe" ref="gaa04d46deeba36cd917dfaf8531ca2dde" args="(abus_t *abus, const char *service_name, const char *event_name, abus_callback_t callback, void *arg, int timeout)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gaa04d46deeba36cd917dfaf8531ca2dde">abus_event_unsubscribe</a> (abus_t *abus, const char *service_name, const char *event_name, abus_callback_t callback, void *arg, int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister callback for event notification and send unsubscription to service. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3357cd9cc36c9554c0cf0cfbf2d97b1d"></a><!-- doxytag: member="abus::json_rpc_get_type" ref="ga3357cd9cc36c9554c0cf0cfbf2d97b1d" args="(json_rpc_t *json_rpc, const char *name)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga3357cd9cc36c9554c0cf0cfbf2d97b1d">json_rpc_get_type</a> (json_rpc_t *json_rpc, const char *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the JSON RPC type of a paramter. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa3ade1d3f1b3a1c00fa519f4d1c9b490"></a><!-- doxytag: member="abus::json_rpc_get_int" ref="gaa3ade1d3f1b3a1c00fa519f4d1c9b490" args="(json_rpc_t *json_rpc, const char *name, int *val)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gaa3ade1d3f1b3a1c00fa519f4d1c9b490">json_rpc_get_int</a> (json_rpc_t *json_rpc, const char *name, int *val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a parameter of type integer from a RPC. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1ffe2527dd20e8683f90c0ee36913723"></a><!-- doxytag: member="abus::json_rpc_get_bool" ref="ga1ffe2527dd20e8683f90c0ee36913723" args="(json_rpc_t *json_rpc, const char *name, bool *val)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga1ffe2527dd20e8683f90c0ee36913723">json_rpc_get_bool</a> (json_rpc_t *json_rpc, const char *name, bool *val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a parameter of type boolean from a RPC. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa2667fc3c2c89ee172cf3d2a88e98761"></a><!-- doxytag: member="abus::json_rpc_get_double" ref="gaa2667fc3c2c89ee172cf3d2a88e98761" args="(json_rpc_t *json_rpc, const char *name, double *val)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gaa2667fc3c2c89ee172cf3d2a88e98761">json_rpc_get_double</a> (json_rpc_t *json_rpc, const char *name, double *val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a parameter of type double float from a RPC. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga86dff6d7ab2a107fe481a22e713bd0f7"></a><!-- doxytag: member="abus::json_rpc_get_str" ref="ga86dff6d7ab2a107fe481a22e713bd0f7" args="(json_rpc_t *json_rpc, const char *name, char *val, size_t n)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga86dff6d7ab2a107fe481a22e713bd0f7">json_rpc_get_str</a> (json_rpc_t *json_rpc, const char *name, char *val, size_t n)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a parameter of type string from a RPC. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga7bbbd24ff202dce02334cefbc21d7928">json_rpc_get_array_count</a> (json_rpc_t *json_rpc, const char *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the count of objects in "params" or "result" in a parsed JSON RPC, pertaining to a key.  <a href="#ga7bbbd24ff202dce02334cefbc21d7928"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga97adf9e30c98f22e21cf410db25bed61">json_rpc_get_point_at</a> (json_rpc_t *json_rpc, const char *name, int idx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Aim the json_rpc_get_{int,bool,..} functions at an object within an array of "params" or "result".  <a href="#ga97adf9e30c98f22e21cf410db25bed61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9630933b39f907073628c1d6a9eb950b"></a><!-- doxytag: member="abus::json_rpc_set_error" ref="ga9630933b39f907073628c1d6a9eb950b" args="(json_rpc_t *json_rpc, int error_code, const char *message)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga9630933b39f907073628c1d6a9eb950b">json_rpc_set_error</a> (json_rpc_t *json_rpc, int error_code, const char *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the error code and message in a RPC before response. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae2a95cc825a12654ab72df6a0169b0a3"></a><!-- doxytag: member="abus::json_rpc_append_int" ref="gae2a95cc825a12654ab72df6a0169b0a3" args="(json_rpc_t *json_rpc, const char *name, int val)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gae2a95cc825a12654ab72df6a0169b0a3">json_rpc_append_int</a> (json_rpc_t *json_rpc, const char *name, int val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Append to a RPC a new parameter and its value of type integer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafe1fc67b45e60521255ccc6fe3bbe3df"></a><!-- doxytag: member="abus::json_rpc_append_bool" ref="gafe1fc67b45e60521255ccc6fe3bbe3df" args="(json_rpc_t *json_rpc, const char *name, bool val)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gafe1fc67b45e60521255ccc6fe3bbe3df">json_rpc_append_bool</a> (json_rpc_t *json_rpc, const char *name, bool val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Append to a RPC a new parameter and its value of type boolean. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac904d3f10cd852cc15a21aa4e8c68b0c"></a><!-- doxytag: member="abus::json_rpc_append_double" ref="gac904d3f10cd852cc15a21aa4e8c68b0c" args="(json_rpc_t *json_rpc, const char *name, double val)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gac904d3f10cd852cc15a21aa4e8c68b0c">json_rpc_append_double</a> (json_rpc_t *json_rpc, const char *name, double val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Append to a RPC a new parameter and its value of type double float. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga932d457c51536e3c67cdbab23c2323f8"></a><!-- doxytag: member="abus::json_rpc_append_null" ref="ga932d457c51536e3c67cdbab23c2323f8" args="(json_rpc_t *json_rpc, const char *name)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga932d457c51536e3c67cdbab23c2323f8">json_rpc_append_null</a> (json_rpc_t *json_rpc, const char *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Append to a RPC a new parameter and its value of type null. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5443b57e902804585b97f677d189431a"></a><!-- doxytag: member="abus::json_rpc_append_strn" ref="ga5443b57e902804585b97f677d189431a" args="(json_rpc_t *json_rpc, const char *name, const char *val, size_t n)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#ga5443b57e902804585b97f677d189431a">json_rpc_append_strn</a> (json_rpc_t *json_rpc, const char *name, const char *val, size_t n)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Append to a RPC a new parameter and its value of type string. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gaa59d065704b7ff46734371b58dda8e4e">json_rpc_append_vargs</a> (json_rpc_t *json_rpc, va_list ap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Append to a RPC a va_list of JSON atoms.  <a href="#gaa59d065704b7ff46734371b58dda8e4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab5c1434f4a96d22320319f6caf45173b"></a><!-- doxytag: member="abus::json_rpc_append_args" ref="gab5c1434f4a96d22320319f6caf45173b" args="(json_rpc_t *json_rpc,...)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__abus.html#gab5c1434f4a96d22320319f6caf45173b">json_rpc_append_args</a> (json_rpc_t *json_rpc,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable arg wrapper for <a class="el" href="group__abus.html#gaa59d065704b7ff46734371b58dda8e4e" title="Append to a RPC a va_list of JSON atoms.">json_rpc_append_vargs()</a> <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Define groups for Doxygen. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae6978d51da337838da12bca1c2c27659"></a><!-- doxytag: member="abus.c::abus_init" ref="gae6978d51da337838da12bca1c2c27659" args="(abus_t *abus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_init </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize for A-Bus operation. </p>
<p>The A-Bus thread may not be created if only using synchronous <a class="el" href="group__abus.html#gae11f19e9033b6537259a125f4b8c9b21" title="synchronous invocation">abus_request_method_invoke()</a>. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-client_8c-example.html#a0">example-client.c</a>, <a class="el" href="example-clnt-array_8c-example.html#a0">example-clnt-array.c</a>, <a class="el" href="example-service_8c-example.html#a3">example-service.c</a>, <a class="el" href="example-servicexx_8cpp-example.html#a3">example-servicexx.cpp</a>, <a class="el" href="example-svc-array_8c-example.html#a6">example-svc-array.c</a>, and <a class="el" href="example-svc-event_8c-example.html#a0">example-svc-event.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad9eb8098a84e184ee6942d48c222b4cd"></a><!-- doxytag: member="abus.c::abus_cleanup" ref="gad9eb8098a84e184ee6942d48c222b4cd" args="(abus_t *abus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_cleanup </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cleanup of A-Bus operation, releases any allocated memory. </p>
<p>Note: subscribed event are not unsubscribed from the services. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-client_8c-example.html#a6">example-client.c</a>, <a class="el" href="example-clnt-array_8c-example.html#a9">example-clnt-array.c</a>, <a class="el" href="example-service_8c-example.html#a5">example-service.c</a>, <a class="el" href="example-servicexx_8cpp-example.html#a4">example-servicexx.cpp</a>, <a class="el" href="example-svc-array_8c-example.html#a8">example-svc-array.c</a>, and <a class="el" href="example-svc-event_8c-example.html#a5">example-svc-event.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga4e70d862fb8670bfe5397869d3d41b71"></a><!-- doxytag: member="abus.c::abus_decl_method" ref="ga4e70d862fb8670bfe5397869d3d41b71" args="(abus_t *abus, const char *service_name, const char *method_name, abus_callback_t method_callback, int flags, void *arg, const char *fmt, const char *result_fmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_decl_method </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">abus_callback_t&#160;</td>
          <td class="paramname"><em>method_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>result_fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decalare an A-Bus method. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">abus</td><td>pointer to A-Bus handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_name</td><td>name of service where the method belongs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method_name</td><td>name of method to be exposed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method_callback</td><td>pointer to call-back function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags specifying method callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>cookie to be passed back to method_callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fmt</td><td>abus_format describing the argument of method, may be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result_fmt</td><td>abus_format describing the result of method, may be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, non nul value otherwise </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Allow redeclaration? </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#ga1d2c5a2ca5147f5991d1a78f801f5fdf" title="Undeclare an A-Bus method.">abus_undecl_method()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-service_8c-example.html#a4">example-service.c</a>, and <a class="el" href="example-svc-array_8c-example.html#a7">example-svc-array.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga1d2c5a2ca5147f5991d1a78f801f5fdf"></a><!-- doxytag: member="abus.c::abus_undecl_method" ref="ga1d2c5a2ca5147f5991d1a78f801f5fdf" args="(abus_t *abus, const char *service_name, const char *method_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_undecl_method </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Undeclare an A-Bus method. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, non nul value otherwise </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#ga4e70d862fb8670bfe5397869d3d41b71" title="Decalare an A-Bus method.">abus_decl_method()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gacd0f9150830116ff3525cf6c7e05478f"></a><!-- doxytag: member="abus.c::abus_request_method_init" ref="gacd0f9150830116ff3525cf6c7e05478f" args="(abus_t *abus, const char *service_name, const char *method_name, json_rpc_t *json_rpc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_method_init </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize for request method, client side. </p>
<p>Implicit: expects a response, otherwise use notification/event </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, non nul value otherwise </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-client_8c-example.html#a1">example-client.c</a>, and <a class="el" href="example-clnt-array_8c-example.html#a1">example-clnt-array.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaefbdffce700658ec7b8ec72ed6911cae"></a><!-- doxytag: member="abus.c::abus_request_method_wait_async" ref="gaefbdffce700658ec7b8ec72ed6911cae" args="(abus_t *abus, json_rpc_t *json_rpc, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_method_wait_async </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for an asynchronous method request. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#gacb221ecd41f014b38bb3a4055111e39d" title="Asynchronous invocation of a RPC.">abus_request_method_invoke_async()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gacb221ecd41f014b38bb3a4055111e39d"></a><!-- doxytag: member="abus.c::abus_request_method_invoke_async" ref="gacb221ecd41f014b38bb3a4055111e39d" args="(abus_t *abus, json_rpc_t *json_rpc, int timeout, abus_callback_t callback, int flags, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_method_invoke_async </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">abus_callback_t&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asynchronous invocation of a RPC. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>function to be called upon response or timeout. may be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>opaque pointer value to be passed to callback. may be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#gaefbdffce700658ec7b8ec72ed6911cae" title="Wait for an asynchronous method request.">abus_request_method_wait_async()</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>implement timeout callback </dd></dl>

</div>
</div>
<a class="anchor" id="gae11f19e9033b6537259a125f4b8c9b21"></a><!-- doxytag: member="abus.c::abus_request_method_invoke" ref="gae11f19e9033b6537259a125f4b8c9b21" args="(abus_t *abus, json_rpc_t *json_rpc, int flags, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_method_invoke </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>synchronous invocation </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>receiving timeout in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-client_8c-example.html#a3">example-client.c</a>, and <a class="el" href="example-clnt-array_8c-example.html#a4">example-clnt-array.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gae73d8dacd0226263499ce1bee9b3c005"></a><!-- doxytag: member="abus.c::abus_forward_rpc" ref="gae73d8dacd0226263499ce1bee9b3c005" args="(abus_t *abus, char *buffer, int *buflen, int flags, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_forward_rpc </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Forward a JSON-RPC request in the A-Bus, and get the response. </p>
<p>Applicable for implementing an http&lt;-&gt;A-Bus relay.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">abus</td><td>pointer to A-Bus context </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>pointer to buffer (size at least JSONRPC_RESP_SZ_MAX) containing JSON-RPC request, and later the response </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>pointer to length of buffer of JSON-RPC request/response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>ABUS_RPC flags </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>receiving timeout in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>ABUS_RPC_THREADED </dd></dl>

</div>
</div>
<a class="anchor" id="ga5fe9afa6fca86ff07ca63498800be99c"></a><!-- doxytag: member="abus.c::abus_decl_event" ref="ga5fe9afa6fca86ff07ca63498800be99c" args="(abus_t *abus, const char *service_name, const char *event_name, const char *fmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_decl_event </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>event_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decalare an A-Bus event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">abus</td><td>pointer to A-Bus handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_name</td><td>name of service where the event belongs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event_name</td><td>name of event that may be subscribed to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fmt</td><td>abus_format describing the arguments of the event, may be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, non nul value otherwise </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd><p class="startdd">Allow redeclaration? </p>
<p class="enddd">abus_undecl_event() </p>
</dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-svc-event_8c-example.html#a1">example-svc-event.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaf752f471ab94e0c086f0c931c521f95f"></a><!-- doxytag: member="abus.c::abus_request_event_init" ref="gaf752f471ab94e0c086f0c931c521f95f" args="(abus_t *abus, const char *service_name, const char *event_name, json_rpc_t *json_rpc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_event_init </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>event_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a new RPC to be published by a service. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#gab4fa1a2fcf76113395ee4f2d2b701f1a" title="Release ressources associated with a past event RPC.">abus_request_event_cleanup()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-svc-event_8c-example.html#a2">example-svc-event.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga460695254c43fd31a2c0ad17abeb213c"></a><!-- doxytag: member="abus.c::abus_request_event_publish" ref="ga460695254c43fd31a2c0ad17abeb213c" args="(abus_t *abus, json_rpc_t *json_rpc, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_event_publish </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Publish (i.e. </p>
<p>send) an event from a service</p>
<p>The notification is sent to all the subscribed end-points. If notification delivery fails, the troublesome end-point get unsubscribed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>unused so far </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#gaf752f471ab94e0c086f0c931c521f95f" title="Initialize a new RPC to be published by a service.">abus_request_event_init()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-svc-event_8c-example.html#a3">example-svc-event.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gab4fa1a2fcf76113395ee4f2d2b701f1a"></a><!-- doxytag: member="abus.c::abus_request_event_cleanup" ref="gab4fa1a2fcf76113395ee4f2d2b701f1a" args="(abus_t *abus, json_rpc_t *json_rpc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abus_request_event_cleanup </td>
          <td>(</td>
          <td class="paramtype">abus_t *&#160;</td>
          <td class="paramname"><em>abus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release ressources associated with a past event RPC. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__abus.html#gaf752f471ab94e0c086f0c931c521f95f" title="Initialize a new RPC to be published by a service.">abus_request_event_init()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-svc-event_8c-example.html#a4">example-svc-event.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga7bbbd24ff202dce02334cefbc21d7928"></a><!-- doxytag: member="jsonrpc.c::json_rpc_get_array_count" ref="ga7bbbd24ff202dce02334cefbc21d7928" args="(json_rpc_t *json_rpc, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_rpc_get_array_count </td>
          <td>(</td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the count of objects in "params" or "result" in a parsed JSON RPC, pertaining to a key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">json_rpc</td><td>handle to a JSON RPC, be it a received request (service side) or a received response/event (client side) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>key name of a "params"/"result" containing an array of objects </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a nul of positive number representing the count of objects in the array, a negative value in case of error </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-clnt-array_8c-example.html#a5">example-clnt-array.c</a>, and <a class="el" href="example-svc-array_8c-example.html#a1">example-svc-array.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga97adf9e30c98f22e21cf410db25bed61"></a><!-- doxytag: member="jsonrpc.c::json_rpc_get_point_at" ref="ga97adf9e30c98f22e21cf410db25bed61" args="(json_rpc_t *json_rpc, const char *name, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_rpc_get_point_at </td>
          <td>(</td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Aim the json_rpc_get_{int,bool,..} functions at an object within an array of "params" or "result". </p>
<p>The JSON RPC must have been already parsed, for instance in a received request (service side) or a received response/event (client side).</p>
<p>Limitation: there might be only one level of array, e.g."result":{ "ary":[{"a":5,"b":8},{"a":-1,"c":"foo"}]}</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">json_rpc</td><td>handle to a JSON RPC, be it a received request (service side) or a received response/event (client side) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>key name within a "params"/"result" containing an array of objects. A NULL pointer resets pointing wihtin "params"/"result". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>array index to point at, starting from 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, non nul value otherwise </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example-clnt-array_8c-example.html#a7">example-clnt-array.c</a>, and <a class="el" href="example-svc-array_8c-example.html#a2">example-svc-array.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaa59d065704b7ff46734371b58dda8e4e"></a><!-- doxytag: member="jsonrpc.c::json_rpc_append_vargs" ref="gaa59d065704b7ff46734371b58dda8e4e" args="(json_rpc_t *json_rpc, va_list ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_rpc_append_vargs </td>
          <td>(</td>
          <td class="paramtype">json_rpc_t *&#160;</td>
          <td class="paramname"><em>json_rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Append to a RPC a va_list of JSON atoms. </p>
<p>json_rpc_append_vargs takes multiple json_type's and pass them to JSON RPC message Array, object and constants doesn't take a string and length argument. int, float, key, string need to be followed by a pointer to char and then a length. If the length argument is -1, then the strlen() function will be used on the string argument. The argument list should always be terminated by -1 NB: <a class="el" href="group__abus.html#gaa59d065704b7ff46734371b58dda8e4e" title="Append to a RPC a va_list of JSON atoms.">json_rpc_append_vargs()</a> is a low-level JSON-RPC formating primitive, and does not guarantee JSON-RPC syntax. Use at your own risk. </p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Fri Dec 30 2011 13:16:02 for A-Bus Library by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
